<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Balança - PadariaPlus</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
     <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Chakra+Petch:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Raleway:ital,wght@0,100..900;1,100..900&family=Roboto:ital,wght@0,100..900;1,100..900&family=ZCOOL+XiaoWei&family=Zain:ital,wght@0,200;0,300;0,400;0,700;0,800;0,900;1,300;1,400&display=swap" rel="stylesheet">
    
</head>
<body>
    <button class="menu-toggle" id="menuToggle">
        <i class="fas fa-bars"></i>
    </button>

    <div class="container">
        <!-- Menu Lateral -->
        <aside class="sidebar" id="sidebar">
            <div class="logo">
                <i class="fas fa-balance-scale"></i>
                <span>PadariaPlus</span>
            </div>
            
            <nav class="menu">
                <ul>
                    <li class="active" data-section="balanca">
                        <i class="fas fa-weight"></i>
                        <span>Balança</span>
                    </li>
                    <li data-section="produtos">
                        <i class="fas fa-bread-slice"></i>
                        <span>Produtos</span>
                    </li>
                    <li data-section="processos">
                        <i class="fas fa-cogs"></i>
                        <span>Processos</span>
                    </li>
                    <li data-section="relatorios">
                        <i class="fas fa-chart-bar"></i>
                        <span>Relatórios</span>
                    </li>
                    <li data-section="configuracoes">
                        <i class="fas fa-tools"></i>
                        <span>Configurações</span>
                    </li>
                </ul>
            </nav>
            
            <div class="product-search">
                <input type="text" id="searchProduct" placeholder="Buscar produto...">
                <i class="fas fa-search"></i>
            </div>
            
            <div class="product-list-container">
                <h3>Lista de Produtos</h3>
                <div class="product-list" id="productList">
                    <!-- Produtos serão carregados via JavaScript -->
                </div>
            </div>
        </aside>

        <!-- Conteúdo Principal -->
        <main class="main-content" id="mainContent">
            <!-- Seção Balança (padrão) -->
            <section id="balanca" class="content-section active">
                <h1><i class="fas fa-weight"></i> Balança de Vendas</h1>
                
                <div class="balance-panel">
                    <div class="display">
                        <div class="display-card">
                            <h3>VALOR TOTAL</h3>
                            <p id="valorTotalDisplay">R$ 0,00</p>
                        </div>
                        <div class="display-card">
                            <h3>PESO LÍQUIDO</h3>
                            <p id="pesoLiquidoDisplay">0.000 kg</p>
                        </div>
                    </div>
                    
                    <form id="balanceForm">
                        <div class="form-group">
                            <label for="productCode">Código do Produto:</label>
                            <div class="input-with-button">
                                <input type="text" id="productCode" placeholder="Ex: 4251">
                                <button type="button" id="searchByCode"><i class="fas fa-search"></i> Buscar</button>
                            </div>
                            <div class="product-info" id="productInfo">Ex: 4251 - Pão Francês</div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="tara">Tara (kg):</label>
                                <div class="input-with-button">
                                    <input type="number" step="0.001" id="tara" placeholder="0.000">
                                    <button type="button" id="resetTara"><i class="fas fa-undo"></i> Resetar</button>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="operationType">Tipo de operação:</label>
                                <select id="operationType">
                                    <option value="controle">Controle</option>
                                    <option value="perda">Perda</option>
                                    <option value="quebra">Quebra</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="productName">Produto:</label>
                                <input type="text" id="productName" readonly>
                            </div>
                            <div class="form-group">
                                <label for="pricePerKg">Valor por kg (R$):</label>
                                <div class="input-with-button">
                                    <input type="number" step="0.01" id="pricePerKg" placeholder="0,00">
                                    <button type="button" id="resetPrice"><i class="fas fa-undo"></i> Resetar</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="weight">Peso (kg):</label>
                                <input type="number" step="0.001" id="weight" placeholder="0.000">
                            </div>
                            <div class="form-group">
                                <label for="employee">Funcionário:</label>
                                <input type="text" id="employee" placeholder="Nome do funcionário">
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" id="calculateBtn"><i class="fas fa-calculator"></i> Calcular</button>
                            <button type="button" id="registerBtn"><i class="fas fa-save"></i> Registrar</button>
                            <button type="button" id="clearBtn"><i class="fas fa-broom"></i> Limpar</button>
                        </div>
                    </form>
                </div>
                
                <div class="records-section">
                    <h2><i class="fas fa-history"></i> Histórico de Pesagens</h2>
                    <div class="tabs">
                        <button class="tab-btn active" data-tab="control">Controle</button>
                        <button class="tab-btn" data-tab="loss">Perdas/Quebras</button>
                    </div>
                    
                    <div class="tab-content active" id="controlTab">
                        <table id="controlTable">
                            <thead>
                                <tr>
                                    <th>Data/Hora</th>
                                    <th>Funcionário</th>
                                    <th>Produto</th>
                                    <th>Código</th>
                                    <th>Peso Bruto</th>
                                    <th>Tara</th>
                                    <th>Peso Líquido</th>
                                    <th>Valor</th>
                                    <th>Ações</th>
                                    <th>
                                    <button class="action-btn generate-report-btn" id="generateWeighingReportBtn">
                                        <i class="fas fa-file-alt"></i> Gerar Relatório
                                    </button>
                                </th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Registros serão adicionados via JavaScript -->
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="tab-content" id="lossTab">
                        <table id="lossTable">
                            <thead>
                                <tr>
                                    <th>Data/Hora</th>
                                    <th>Funcionário</th>
                                    <th>Produto</th>
                                    <th>Código</th>
                                    <th>Peso Bruto</th>
                                    <th>Tara</th>
                                    <th>Peso Líquido</th>
                                    <th>Valor</th>
                                    <th>Ações</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Registros serão adicionados via JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>
            
            <!-- Seção Produtos (oculta inicialmente) -->
            <section id="produtos" class="content-section">
                <h1><i class="fas fa-bread-slice"></i> Gestão de Produtos</h1>
                
                <div class="product-management">
                    <div class="product-form">
                        <h2>Cadastrar/Editar Produto</h2>
                        <form id="productForm">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="newProductCode">Código:</label>
                                    <input type="text" id="newProductCode" required>
                                </div>
                                <div class="form-group">
                                    <label for="newProductName">Nome:</label>
                                    <input type="text" id="newProductName" required>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="newProductPrice">Valor por kg (R$):</label>
                                    <input type="number" step="0.01" id="newProductPrice">
                                </div>
                                <div class="form-group">
                                    <label for="newProductTara">Tara Padrão (kg):</label>
                                    <input type="number" step="0.001" id="newProductTara">
                                </div>
                            </div>
                            
                            <div class="form-actions">
                                <button type="submit" id="saveProductBtn"><i class="fas fa-save"></i> Salvar</button>
                                <button type="button" id="updateProductBtn"><i class="fas fa-edit"></i> Atualizar</button>
                                <button type="button" id="clearProductBtn"><i class="fas fa-broom"></i> Limpar</button>
                            </div>
                        </form>
                    </div>
                    
                    <div class="product-list-full">
                        <h2>Todos os Produtos</h2>
                        <div class="search-bar">
                            <input type="text" id="searchAllProducts" placeholder="Buscar produto...">
                            <button id="searchProductBtn"><i class="fas fa-search"></i></button>
                        </div>
                        
                        <table id="allProductsTable">
                            <thead>
                                <tr>
                                    <th>Código</th>
                                    <th>Nome</th>
                                    <th>Valor/kg</th>
                                    <th>Tara</th>
                                    <th>Ações</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Produtos serão carregados via JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>
            
            <!-- Seção Processos (oculta inicialmente) -->
            <section id="processos" class="content-section">
                <h1><i class="fas fa-cogs"></i> Gestão de Processos</h1>
                
                <div class="process-management">
                    <div class="process-control">
                        <h2>Controle de Sobras e Quebras</h2>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="processProductCode">Código do Produto:</label>
                                <input type="text" id="processProductCode" placeholder="Ex: 4251">
                            </div>
                            <div class="form-group">
                                <label for="processProductName">Produto:</label>
                                <input type="text" id="processProductName" readonly>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="originalWeight">Peso Original (kg):</label>
                                <input type="number" step="0.001" id="originalWeight">
                            </div>
                            <div class="form-group">
                                <label for="remainingWeight">Peso Restante (kg):</label>
                                <input type="number" step="0.001" id="remainingWeight">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="processType">Tipo de Processo:</label>
                                <select id="processType">
                                    <option value="sobra">Sobra</option>
                                    <option value="transformacao">Transformação</option>
                                    <option value="perda">Perda</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="processEmployee">Funcionário:</label>
                                <input type="text" id="processEmployee" placeholder="Nome do funcionário">
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" id="calculateProcessBtn"><i class="fas fa-calculator"></i> Calcular Diferença</button>
                            <button type="button" id="registerProcessBtn"><i class="fas fa-save"></i> Registrar</button>
                        </div>
                        
                        <div class="process-results">
                            <h3>Resultados:</h3>
                            <div class="result-item">
                                <span>Diferença de Peso:</span>
                                <span id="weightDifference">0.000 kg</span>
                            </div>
                            <div class="result-item">
                                <span>Diferença de Valor:</span>
                                <span id="valueDifference">R$ 0,00</span>
                            </div>
                            <div class="result-item">
                                <span>Impacto no Custo:</span>
                                <span id="costImpact">0.00%</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="process-history">
                        <h2>Histórico de Processos</h2>
                        <table id="processHistoryTable">
                            <thead>
                                <tr>
                                    <th>Data/Hora</th>
                                    <th>Tipo</th>
                                    <th>Produto</th>
                                    <th>Código</th>
                                    <th>Dif. Peso</th>
                                    <th>Dif. Valor</th>
                                    <th>Funcionário</th>
                                    <th>Ações</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Histórico será carregado via JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>
            
            <!-- Seção Relatórios (oculta inicialmente) -->
            <section id="relatorios" class="content-section">
                <h1><i class="fas fa-chart-bar"></i> Relatórios</h1>
                
                <div class="reports-section">
                    <div class="report-filters">
                        <h2>Gerar Relatório</h2>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="reportType">Tipo de Relatório:</label>
                                <select id="reportType">
                                    <option value="daily">Diário</option>
                                    <option value="weekly">Semanal</option>
                                    <option value="monthly">Mensal</option>
                                    <option value="custom">Personalizado</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="reportProduct">Produto:</label>
                                <select id="reportProduct">
                                    <option value="all">Todos</option>
                                    <!-- Opções serão preenchidas via JavaScript -->
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-row" id="customDateRange">
                            <div class="form-group">
                                <label for="startDate">Data Início:</label>
                                <input type="date" id="startDate">
                            </div>
                            <div class="form-group">
                                <label for="endDate">Data Fim:</label>
                                <input type="date" id="endDate">
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" id="generateReportBtn"><i class="fas fa-file-pdf"></i> Gerar PDF</button>
                            <button type="button" id="exportCSVBtn"><i class="fas fa-file-csv"></i> Exportar CSV</button>
                            <button type="button" id="exportExcelBtn"><i class="fas fa-file-excel"></i> Exportar Excel</button>
                        </div>
                    </div>
                    
                    <div class="report-preview">
                        <h2>Pré-visualização</h2>
                        <div class="report-content" id="reportPreview">
                            <!-- Conteúdo do relatório será gerado via JavaScript -->
                        </div>
                        
                        <div class="charts">
                            <canvas id="salesChart"></canvas>
                            <canvas id="lossesChart"></canvas>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Seção Configurações (oculta inicialmente) -->
            <section id="configuracoes" class="content-section">
                <h1><i class="fas fa-tools"></i> Configurações</h1>
                
                <div class="settings-section">
                    <div class="settings-form">
                        <h2>Configurações do Sistema</h2>
                        
                        <div class="form-group">
                            <label for="decimalPrecision">Casas decimais para peso:</label>
                            <select id="decimalPrecision">
                                <option value="1">1 (0.0)</option>
                                <option value="2" selected>2 (0.00)</option>
                                <option value="3">3 (0.000)</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="currencySymbol">Símbolo monetário:</label>
                            <input type="text" id="currencySymbol" value="R$">
                        </div>
                        
                        <div class="form-group">
                            <label for="thousandSeparator">Separador de milhar:</label>
                            <input type="text" id="thousandSeparator" value=".">
                        </div>
                        
                        <div class="form-group">
                            <label for="decimalSeparator">Separador decimal:</label>
                            <input type="text" id="decimalSeparator" value=",">
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" id="saveSettingsBtn"><i class="fas fa-save"></i> Salvar Configurações</button>
                        </div>
                    </div>
                    
                    <div class="data-management">
                        <h2>Gerenciamento de Dados</h2>
                        
                        <div class="form-actions">
                            <button type="button" id="backupDataBtn"><i class="fas fa-download"></i> Fazer Backup</button>
                            <button type="button" id="restoreDataBtn"><i class="fas fa-upload"></i> Restaurar Backup</button>
                            <button type="button" id="clearAllDataBtn" class="danger"><i class="fas fa-trash"></i> Limpar Todos os Dados</button>
                        </div>
                        
                        <div class="info-box">
                            <h3>Informações do Sistema</h3>
                            <div class="info-item">
                                <span>Total de Produtos:</span>
                                <span id="totalProducts">0</span>
                            </div>
                            <div class="info-item">
                                <span>Total de Pesagens:</span>
                                <span id="totalWeighings">0</span>
                            </div>
                            <div class="info-item">
                                <span>Total de Processos:</span>
                                <span id="totalProcesses">0</span>
                            </div>
                            <div class="info-item">
                                <span>Último Backup:</span>
                                <span id="lastBackup">Nenhum</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Modal de Confirmação -->
    <div class="modal" id="confirmationModal">
        <div class="modal-content">
            <h3 id="modalTitle">Confirmação</h3>
            <p id="modalMessage">Tem certeza que deseja realizar esta ação?</p>
            <div class="modal-actions">
                <button id="modalConfirmBtn">Confirmar</button>
                <button id="modalCancelBtn">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Notificação -->
    <div class="notification" id="notification">
        <span id="notificationMessage"></span>
    </div>

  
</body>
</html>